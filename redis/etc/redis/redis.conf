daemonize yes                   # Run Redis as a daemon

bind 127.0.0.1 192.168.1.0/24   # Bind to localhost and all devices in the 192.168.1.0/24 subnet
protected-mode yes               # Keep protected mode enabled for security
port 6379                        # Default Redis port

# Logging settings
loglevel notice                  # Set log level (notice, warning, error)
logfile /var/log/redis/redis.log  # Log to file (ensure permissions are correct)

# Persistence settings (optional, adjust based on your needs)
save 900 1                       # Save the DB if at least 1 key changed in the last 900 seconds
save 300 10                      # Save the DB if at least 10 keys changed in the last 300 seconds
appendonly yes                   # Enable append-only file (AOF) persistence for better durability
appendfsync everysec             # Write changes to disk every second

# Max memory configuration (optional, adjust as needed)
maxmemory 1gb                    # Limit Redis to 1GB of memory
maxmemory-policy allkeys-lru     # Use LRU eviction when max memory is reached

# Security: Disable certain dangerous commands
rename-command CONFIG ""         # Disable CONFIG command
rename-command SHUTDOWN ""       # Disable SHUTDOWN command
rename-command FLUSHDB ""        # Disable FLUSHDB command
rename-command FLUSHALL ""       # Disable FLUSHALL command

# CPU and connection settings
timeout 300                      # Set the timeout for idle clients
tcp-keepalive 300                # Set TCP keep-alive interval
